# Custom Nginx Config für bessere Performance und Wartung
client_max_body_size 100M;
proxy_connect_timeout 60s;
proxy_send_timeout 60s;
proxy_read_timeout 60s;

# Rate Limiting
limit_req_zone $binary_remote_addr zone=api:10m rate=10r/m;

# Wartungsseite für 502/503 Errors
error_page 502 503 504 /maintenance.json;
location = /maintenance.json {
    add_header Content-Type application/json;
    return 503 '{"status":"maintenance","message":"Server wird aktualisiert, bitte kurz warten..."}';
}